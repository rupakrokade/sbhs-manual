\chapter{Using Single Board Heater System, Virtually!}
\section{Introduction to Virtual Labs at \\IIT Bombay}
The concept of virtual laboratory is a brilliant step towards strengthening the education system of an university/college, a metropolitan area or even an entire nation. The idea is to use the ICT i.e. Information and Communications Technology, mainly the Internet for imparting education or exchange of educational information. Virtual Laboratory mainly focuses on providing the laboratory facility, virtually. Various experimental set-ups are hooked up to the internet and made available to use for the external world. Hence, anybody can connect to that equipment over the internet and carry out various experiments pertaining to it. The beauty of this idea is that a college who cannot afford to have some experimental equipments can still provide laboratory support to their students through virtual lab, and all that will cost it is a fair Internet connection! Moreover, the laboratory work does not ends with the college hours, one can always use the virtual lab at any time and at any place assuming the availability of an internet connection. 

A virtual laboratory for SBHS is launched at IIT Bombay. Here is the url to access it: {\bf http://www.co-learn.in/web\_sbhs/}. A set of 15 SBHS are made available to use over the internet 24$\times$ 7. These individual kits are made available to the users on hourly basis. We have a slot booking mechanism to achieve this. Since there are 15 SBHS connected with an hours slot for 24 hrs a day, we have 360 one hour slots a day. This means that 360 individual users can access the SBHS in a day for an hour. This also means that up to 2520 users can use the SBHS for an hour in a week and more than 10,000 in a month! A web page is hosted which is the first interface to the user. The user registers/logs in himself/herself here. The user is also supposed to book a slot for accessing the SBHS. A database server maintains a record of the data generated through the web interface. A python script is hosted on the server side and it helps in connecting the user with the corresponding SBHS placed remotely. The client is also suppose to run a java client on his computer. A free and open source scientific computing Software, Scilab, is used by the user for implementing the experiment on SBHS, in terms of simple Scilab coding. 
%\input{../../Copy_of_SingleBoard_book/latex/IEEE-Chile/vlabarch}

\input{IEEE-Chile/vlabarch}

\section{Conducting experiments using the Virtual lab}\label{vlabsexpt}
In this section we will see the steps involved in conducting experiments using virtual lab.
%In this section we will see the details of the building blocks of virtual lab. Figure \ref{block_dig} shows the block diagram for the same. A virtual lab is similar to a remote lab where in communication takes place between two computers over the internet. The server computer consists of a web server, a data base server and a java application sever. The client computer should contain a web browser, Scilab Software and a java client. A web server is hosted using apache software. The web pages are written in php language and are hosted on this server. Some of these php pages are necessarily linked to a data base server. The Database Server is hosted using mysql. It keeps a record of the information generated during a person registers and books a slot. The java server communicates with the SBHS connected to the computer on a USB port. It also accesses the data base and communicates with the java client. 
%
%
%%\begin{figure}
%%\centering
%%\includegraphics[width=\linewidth]{vlabs/block_dig.pdf}
%%\caption{Block diagram of the Virtual lab setup}
%%\label{block_dig}
%%\end{figure}
%On the client side, the web browser is any internet browser available. The user visits the specified web page, logs in/ registers and book/view/delete a slot(s) using the web brwser available to him. The java client is a simple java application provided by us. The user keys in the information provided on the web page pertaining to the booked slot in to this java client. The interface also provides an option to view a live streaming of the display of the SBHS to which he has connected to. This facility is however limitied to one SBHS for now and an elegent method is currently under development to accomodate all of the SBHS. The Scilab software must be installed by the client on his computer. Here, he will write the experiment he wants to conduct on the SBHS in simple scilab language. A primary scilab code will be provided and the process of modification of the code will be explained. 
This section assumes that the necessary files and software are available on the users computer. Files can be downloaded from the vlabs home page {\bf http://www.co-learn.in/web\_sbhs/} as shown in fig \ref{fig:sbhs-website}
\begin{enumerate}
\item The user goes to the vlabs home page and if he is a first time visitor, he registers himself and follows the information provided there, else he directly logs in.
\item After logging in, the user will book a slot.
\item In the experiment folder the settings.txt file will be edited as per requirement. The client should take care not to make any unneccesary changes to this file. The example settings are anyways given in the end of this file.

\item The user will now start the python client. On windows OS, double clicking on the run.bat file will open the command prompt. On linux OS, one has to first go to the directory where the experiment files (.sce and .py) are kept. This can be done by typing {\tt cd<space>directory name} on the terminal. Linux users should also bypass the terminal proxy settings, if any, by executing the command {\tt export http proxy=’’} on the terminal. Be informed that this is just a temporay disable of terminal proxy and it should be done everytime you open a fresh terminal. Linux user should now type the command {\tt python sbhsclient.py} on the linux  terminal. 
\item The python client will first do some network checks. If it finds the network to be NOT ok for experimentation, it will put the message "No network connection".Else, if it finds the network to be ok for experimentation, it will communicate with the server and will authenticate the user if he is authorised to access the particular SBHS at the booked time. If the user is not authorised it he/she will get the message "Authentication failed. Please check your username and password". If the user is authenticate but has not booked the slot, he/she will get the message "No valid slot found. Please book a slot before starting the experiment". Also if the settings.txt file is not properly configured, it will give error {\tt Invalid settings in the "setttings.txt" file}. If every thing is fine, the client will get the "Login Successfull message." It will also display the log file name and the time left for experimentation.
\item The user now launches scilab, changes the directory to the folder where the necessary .sce, .sci and .xcos files of an experiment of interest resides. The user will execute the scilab code (.sce file) pertaining to the experiment. If the network connection is fine, it will automatically open the corresponding .xcos file. Else it will output a message on the scilab console {\tt No network connection}.
\item The user will run the xcos file. It will open a plot of the various experimental parameters. This process will continue until the experiment is stopped or the simulation time is lapsed. The simulation time can be changed by changing the {\tt final integration time} parameter available in the {\tt set up} option in the {\tt simulation} menu on the Xcos window.

\item The slot is made to last for 55 minutes. The last 5 minutes of the slot are used to reset the SBHS so that the next user will get the SBHS at a normal operating condition. The python client ceases connection automatically as soon as 55 minutes are over. Please note that there will be no pop up warning and the experiment will be stoped automatically.
\item A log of the experimental data with time stamp is maintained on the client side. It is also available to download using the "Download" link once you login on the sbhs vlabs website.
\end{enumerate} 

